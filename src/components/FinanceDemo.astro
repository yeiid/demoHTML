---
// Simplified Finance Demo - Visual showcase
const financialData = {
    income: 4250,
    expenses: 1100,
    net: 3150,
};
---

<section id="finance-demo" class="container">
    <div class="text-center mb-16">
        <h2 class="text-5xl font-bold mb-4">
            Finanzas <span class="gradient-text">Bajo Control</span>
        </h2>
        <p class="text-muted max-w-2xl mx-auto">
            Monitorea ingresos, gastos y rentabilidad en tiempo real con
            reportes autom치ticos.
        </p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <!-- Financial Metrics -->
        <div class="glass p-8">
            <h3 class="text-2xl font-semibold mb-6">Resumen Mensual</h3>

            <div class="space-y-4">
                <div class="metric-card">
                    <div class="metric-header">
                        <span class="metric-icon">游눯</span>
                        <span class="metric-label">Ingresos Totales</span>
                    </div>
                    <div class="metric-value positive">
                        +${financialData.income.toLocaleString()}
                    </div>
                    <div class="metric-detail">
                        Membres칤as, ventas y servicios
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-header">
                        <span class="metric-icon">游늵</span>
                        <span class="metric-label">Gastos Operativos</span>
                    </div>
                    <div class="metric-value negative">
                        -${financialData.expenses.toLocaleString()}
                    </div>
                    <div class="metric-detail">
                        Servicios, inventario y n칩mina
                    </div>
                </div>

                <div class="metric-card highlight">
                    <div class="metric-header">
                        <span class="metric-icon">游늳</span>
                        <span class="metric-label">Ganancia Neta</span>
                    </div>
                    <div class="metric-value primary">
                        ${financialData.net.toLocaleString()}
                    </div>
                    <div class="metric-detail">
                        Margen de ganancia: {
                            Math.round(
                                (financialData.net / financialData.income) *
                                    100,
                            )
                        }%
                    </div>
                </div>
            </div>

            <!-- Features -->
            <div class="mt-8 pt-6 border-t border-white/10">
                <h4 class="font-semibold mb-4 text-sm">
                    Capacidades Financieras
                </h4>
                <div class="grid grid-cols-2 gap-3">
                    <div class="feature-badge">
                        <span>游늶</span>
                        <span>Reportes PDF</span>
                    </div>
                    <div class="feature-badge">
                        <span>游늵</span>
                        <span>Gr치ficas Excel</span>
                    </div>
                    <div class="feature-badge">
                        <span>游댒</span>
                        <span>Alertas Autom치ticas</span>
                    </div>
                    <div class="feature-badge">
                        <span>游눱</span>
                        <span>Multi-moneda</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Growth Chart -->
        <div class="glass p-8">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-semibold">Crecimiento Anual</h3>
                <div class="flex gap-2 items-center">
                    <span class="legend-dot bg-primary"></span>
                    <span class="text-xs text-muted">Ingresos</span>
                </div>
            </div>

            <!-- Simple Chart Visualization -->
            <div class="chart-container">
                <svg viewBox="0 0 400 200" class="chart-svg">
                    <defs>
                        <linearGradient
                            id="gradient"
                            x1="0%"
                            y1="0%"
                            x2="0%"
                            y2="100%"
                        >
                            <stop
                                offset="0%"
                                style="stop-color:var(--primary);stop-opacity:0.3"
                            ></stop>
                            <stop
                                offset="100%"
                                style="stop-color:var(--primary);stop-opacity:0"
                            ></stop>
                        </linearGradient>
                    </defs>

                    <!-- Area fill -->
                    <path
                        class="chart-area"
                        d="M0,200 L0,150 L80,130 L160,160 L240,80 L320,100 L400,40 L400,200 Z"
                        fill="url(#gradient)"></path>

                    <!-- Line -->
                    <path
                        class="chart-line"
                        d="M0,150 L80,130 L160,160 L240,80 L320,100 L400,40"
                        fill="none"
                        stroke="var(--primary)"
                        stroke-width="3"></path>

                    <!-- Data points -->
                    <circle cx="0" cy="150" r="4" fill="var(--primary)"
                    ></circle>
                    <circle cx="80" cy="130" r="4" fill="var(--primary)"
                    ></circle>
                    <circle cx="160" cy="160" r="4" fill="var(--primary)"
                    ></circle>
                    <circle cx="240" cy="80" r="4" fill="var(--primary)"
                    ></circle>
                    <circle cx="320" cy="100" r="4" fill="var(--primary)"
                    ></circle>
                    <circle cx="400" cy="40" r="4" fill="var(--primary)"
                    ></circle>
                </svg>
            </div>

            <!-- Month labels -->
            <div
                class="grid grid-cols-6 gap-2 mt-4 text-xs text-muted text-center"
            >
                <span>Ene</span>
                <span>Mar</span>
                <span>May</span>
                <span>Jul</span>
                <span>Sep</span>
                <span>Nov</span>
            </div>

            <!-- Stats -->
            <div class="grid grid-cols-3 gap-4 mt-6">
                <div class="stat-mini">
                    <div class="stat-mini-value">+24%</div>
                    <div class="stat-mini-label">Crecimiento</div>
                </div>
                <div class="stat-mini">
                    <div class="stat-mini-value">$51K</div>
                    <div class="stat-mini-label">Total Anual</div>
                </div>
                <div class="stat-mini">
                    <div class="stat-mini-value">142</div>
                    <div class="stat-mini-label">Miembros</div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    .metric-card {
        padding: 1.5rem;
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.05);
        border-radius: 0.75rem;
        transition: all 0.3s ease;
    }

    .metric-card:hover {
        background: rgba(255, 255, 255, 0.05);
        border-color: rgba(255, 255, 255, 0.1);
    }

    .metric-card.highlight {
        background: linear-gradient(
            135deg,
            rgba(99, 102, 241, 0.1),
            rgba(139, 92, 246, 0.05)
        );
        border-color: var(--primary);
    }

    .metric-header {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        margin-bottom: 0.75rem;
    }

    .metric-icon {
        font-size: 1.5rem;
    }

    .metric-label {
        font-size: 0.9rem;
        color: var(--muted);
    }

    .metric-value {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
    }

    .metric-value.positive {
        color: var(--secondary);
    }

    .metric-value.negative {
        color: #f87171;
    }

    .metric-value.primary {
        color: var(--primary);
    }

    .metric-detail {
        font-size: 0.8rem;
        color: var(--muted);
    }

    .feature-badge {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.5rem;
        background: rgba(255, 255, 255, 0.03);
        border-radius: 0.5rem;
        font-size: 0.8rem;
    }

    .legend-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        display: inline-block;
    }

    .chart-container {
        height: 200px;
        position: relative;
        margin: 1rem 0;
    }

    .chart-svg {
        width: 100%;
        height: 100%;
        overflow: visible;
    }

    .chart-line {
        stroke-dasharray: 1000;
        stroke-dashoffset: 1000;
        animation: draw 2s ease-out forwards;
    }

    @keyframes draw {
        to {
            stroke-dashoffset: 0;
        }
    }

    .stat-mini {
        text-align: center;
        padding: 1rem;
        background: rgba(255, 255, 255, 0.03);
        border-radius: 0.5rem;
    }

    .stat-mini-value {
        font-size: 1.25rem;
        font-weight: 700;
        color: var(--primary);
        margin-bottom: 0.25rem;
    }

    .stat-mini-label {
        font-size: 0.75rem;
        color: var(--muted);
    }

    .mb-16 {
        margin-bottom: 4rem;
    }

    .space-y-4 > * + * {
        margin-top: 1rem;
    }

    @media (max-width: 1024px) {
        .metric-value {
            font-size: 1.5rem;
        }

        .grid-cols-3 {
            grid-template-columns: 1fr;
        }
    }
</style>
